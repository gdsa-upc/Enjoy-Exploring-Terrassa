<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Enjoy Exploring Terrassa by gdsa-upc</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="without-description">
        <h1>Enjoy Exploring Terrassa</h1>
        <p></p>
        <p class="view"><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa">View the Project on GitHub <small>gdsa-upc/Enjoy-Exploring-Terrassa</small></a></p>
        <ul>
          <li><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/logo.jpg" alt="logo"> </p>

<table>
<thead>
<tr>
<th>Diapositiva de la sessió</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.google.com/presentation/d/1Hmcg7k3zEo0wXVzjP99lH5SMlbBVJkSYL8eTS2kydy4/edit#slide=id.p">Sessió 3</a></td>
</tr>
<tr>
<td><a href="https://docs.google.com/presentation/d/1Hmcg7k3zEo0wXVzjP99lH5SMlbBVJkSYL8eTS2kydy4/edit#slide=id.g19e1f2c0b0_1_0">Sessió 4</a></td>
</tr>
<tr>
<td><a href="https://docs.google.com/presentation/d/1wcq5zaxRrBGNU38gORMOAnL_QFU1HubG0RN2FRkLOZ8/edit#slide=id.p">Sessió 5</a></td>
</tr>
<tr>
<td><a href="https://docs.google.com/presentation/d/1Ol8B8NNOnoMb-ZDMElMFij1bH5sTInz8Qd3Y1cDpm_4/edit#slide=id.g1a3455afc3_0_0">Sessió 6</a></td>
</tr>
<tr>
<td><a href="https://docs.google.com/presentation/d/1tAGuff363eBT5GbqVj1YCMlYcIp9q2Xxw9rUffX-exU/edit#slide=id.g1a369ec9a6_1_66">Presentació final</a></td>
</tr>
</tbody>
</table>

<h2>
<a id="introducciÓ" class="anchor" href="#introducci%C3%93" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INTRODUCCIÓ</h2>

<p>Aquesta es la web de Enjoy Exploring Terrassa del projecte de l'assignatura Gestió i Distribució del Senyal Audiovisual del Grau en Enginyeria de Sistemes Audiovisuals de l'ESEIAAT de la Universitat Politècnica de Catalunya. </p>

<hr>

<h2>
<a id="que-és" class="anchor" href="#que-%C3%A9s" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Que és?</h2>

<p>En aquesta web es publicaran els resultats del projecte d'enginyeria de l'assignatura GDSA. Aquest projecte consisteix en la creació de una aplicació capaç d'identificar i posteriorment classificar 12 edificis de Terrassa. Això serà possible gràcies a que disposem d'una base de dades amb diferents imatges on apareixen aquests 12 edificis vists des de diferents perspectives i en diferents instants del dia. A part dins aquesta base de dades trobem imatges desconegudes, és a dir, que no tenen res a veure amb la resta d'edificis, que ens serviran com a distractors.
Aquí dos exemple de les dues classes d'imatges que trobem:</p>

<h3>
<a id="un-dels-edificis-de-terrassa-ajuntament-de-terrassa" class="anchor" href="#un-dels-edificis-de-terrassa-ajuntament-de-terrassa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Un dels edificis de Terrassa: Ajuntament de Terrassa</h3>

<p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/ajuntament_73.jpg" alt="ajuntament_73"> </p>

<h3>
<a id="distractor" class="anchor" href="#distractor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Distractor</h3>

<p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/desconegut.png" alt="desconegut_252"></p>

<p>Alhora de realitzar tot el codi amb Phyton hem utilitzat el programa Canopy amb tot un conjunt de llibreries que podem descarregar des del mateix.</p>

<p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/canopy-logo.png" alt="canopy-logo"></p>

<h2>
<a id="qui-som" class="anchor" href="#qui-som" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Qui som?</h2>

<p>L'equip Enjoy Exploring Terrassa està format per 4 components:</p>

<table>
<thead>
<tr>
<th>Component</th>
<th>Perfil GitHub</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adrià Alsina</td>
<td><a href="https://github.com/adrialsina" class="user-mention">@adrialsina</a></td>
</tr>
<tr>
<td>Ricard Ribalta</td>
<td><a href="https://github.com/ricardribalta" class="user-mention">@ricardribalta</a></td>
</tr>
<tr>
<td>Cristina Uroz</td>
<td><a href="https://github.com/CristinaUroz" class="user-mention">@CristinaUroz</a></td>
</tr>
<tr>
<td>Bernat Vilella</td>
<td><a href="https://github.com/kikevite" class="user-mention">@kikevite</a></td>
</tr>
</tbody>
</table>

<h2>
<a id="com-funciona" class="anchor" href="#com-funciona" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Com funciona?</h2>

<h3>
<a id="creació-duna-base-de-dades" class="anchor" href="#creaci%C3%B3-duna-base-de-dades" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Creació d'una base de dades:</h3>

<p>Primerament, per tal de començar el nostre projecte, el nostre primer objectiu va ser la creació d'una <strong><em>base de dades</em></strong>.Això ho vem fer a partir d'una <em>base de dades</em> ja existent, realitzada per alumnes d'any anteriors, amb unes 180 fotos d'entrenament, que com el nom indica, serviran per entrenar el nostre sistema i, per 450 fotos de validació que serviran per evaluar el nostre sistema. Així doncs, a partir d'aquesta <em>base de dades</em> la nostre primera tasca va ser expendir-la, afegint-hi imatges, tant d'entranament, com de validació i distractors, per tal d'aconseguir una <em>base de dades</em> més amplia. Finalment vem crear un <strong><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/build_database.py">script</a></strong> per crear aquesta base de dades.</p>

<h3>
<a id="primer-script-detecció-de-punts-característics" class="anchor" href="#primer-script-detecci%C3%B3-de-punts-caracter%C3%ADstics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Primer Script: Detecció de punts característics</h3>

<p>Un cop teniem la base de dades creada vem poder començar a treballar amb aquesta. Amb el primer que vem treballar va ser amb la creació d'una <strong><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/First%20script.ipynb">funció</a></strong> per tal de trobar els punts característics de les diferents imatges.</p>

<p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/punts.png" alt="punts"></p>

<h3>
<a id="feature-extraction" class="anchor" href="#feature-extraction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Feature Extraction</h3>

<p>Més endevant ens vem dedicar a crear un seguit de 5 funcions; <a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/get_local_features.py">get_local_featrues</a>, <a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/train_codebook.py">train_codebook</a>,<a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/get_assignments.py">get_assignments</a>,<a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/build_bow.py">build_bow</a> i <a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/get_features.py">get_features</a>. Amb aquestes el que vem fer va ser primerament amb la primera funció obtenir tots els descriptors de les imatges que es trobaven a la base de dades, com a resultat d'aquesta funció es van crear dos fitxers diferents, un per les imatges d'entranament i l'altre per les de validació, amb els descriptors per cada imatge. Llavors mitjançant la funció <strong>get_assignments</strong>, vem obtenir les assignacions i com a resultat ens va retornar un vector, indicant-nos per cada descriptor quina assignació té. I finalment vem crear la funció principal. Aquesta agafa tots els id’s de les diferents imatges d’entrenament i validació, n’extreu les característiques i crear una especia de diccionari on hi guardarà els diferents descriptors per a cada imatge. </p>

<h3>
<a id="rànquing-de-les-imatges" class="anchor" href="#r%C3%A0nquing-de-les-imatges" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rànquing de les imatges</h3>

<p>Finalment hem creat dues funcions; <strong><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/rank.py">rank</a></strong> i <strong><a href="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/blob/master/eval_rankings.py">eval_rankings</a></strong> amb les quals a partir de establir uns <em>inputs</em> aconseguim com a sortida un fitxer .txt per a cada imatge que conte els id’s de les fotos que més s’assemblen.</p>

<p>Gràcies a un <em>display</em> podem veure un exemple sobre el funcionament del rànquing i com verifica si classifica  les imatges de forma correcta o no. En aquest cas veiem la farmàcia, i podem veure ambun marge de color blau la imatge amb la qua hem fet la cerca, i llavors de les 14 imatges que s'assemblen més, que ens retorna la funció <em>eval_rank</em>,podem veure amb verd les que realment són la farmàcia i amb color vermell les que no ho són.</p>

<p><img src="https://github.com/gdsa-upc/Enjoy-Exploring-Terrassa/raw/gh-pages/images/display.png" alt="display"></p>

<h2>
<a id="resultats" class="anchor" href="#resultats" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resultats</h2>

<p>Finalment, com a resultats de la nostre aplicació, utilitzant les tècniques descrites anteriorment, amb ROOT_SIFT i un cluster de 8000, hem obtingut el següent mAP (mitjana precisió de cada imatge):</p>

<table>
<thead>
<tr>
<th>Mesura</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td>mAP (mean Average Precision)</td>
<td><strong>0.29415</strong></td>
</tr>
</tbody>
</table>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/gdsa-upc">gdsa-upc</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
